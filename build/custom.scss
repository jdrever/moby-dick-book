// Required
@import "../node_modules/bootstrap/scss/functions";

// Default variable overrides
$headings-color: #223e99;
$primary:#223e99;
$breadcrumb-margin-bottom: 0rem;
$linkUnderline: #00c2ff;

// Required
@import "../node_modules/bootstrap/scss/variables";
@import "../node_modules/bootstrap/scss/variables-dark";
@import "../node_modules/bootstrap/scss/maps";
@import "../node_modules/bootstrap/scss/mixins";
@import "../node_modules/bootstrap/scss/root";
@import "../node_modules/bootstrap/scss/reboot";
@import "../node_modules/bootstrap/scss/type";
@import "../node_modules/bootstrap/scss/utilities";

@import "../node_modules/bootstrap/scss/accordion";
@import "../node_modules/bootstrap/scss/alert";
@import "../node_modules/bootstrap/scss/breadcrumb";
@import "../node_modules/bootstrap/scss/buttons";
@import "../node_modules/bootstrap/scss/containers";
@import "../node_modules/bootstrap/scss/dropdown";
@import "../node_modules/bootstrap/scss/forms";
@import "../node_modules/bootstrap/scss/grid";
@import "../node_modules/bootstrap/scss/images";
@import "../node_modules/bootstrap/scss/list-group";
@import "../node_modules/bootstrap/scss/nav";
@import "../node_modules/bootstrap/scss/navbar";
@import "../node_modules/bootstrap/scss/pagination";
@import "../node_modules/bootstrap/scss/tables";
@import "../node_modules/bootstrap/scss/transitions";

@import "../node_modules/bootstrap/scss/helpers/position";

@import "../node_modules/bootstrap/scss/utilities/api";

/* purgecss start ignore */
header {
        border-bottom: 1px solid $primary-bg-subtle;
        background-color: var(--bs-body-bg) !important;
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15), inset 0 -1px 0 rgba(255, 255, 255, 0.15);
}

main {
        margin: 0.5em;
}


footer {
        border-top: 1px solid $headings-color;
        margin-top: 3rem;
        font-size: 0.8em;
}

details {
        padding: 1em;
        margin-bottom: 0.5em;
        border: 1px solid $success;
        border-radius: 0.375rem;
}

dt {
        padding: 1em;
        background-color: var(--bs-primary-bg-subtle);
        margin-bottom: 0.5em;
}

dd {   
        padding: 1em;
        background-color: var(--bs-success-bg-subtle);
}



@media only screen and (min-width:map-get($container-max-widths, "md")) {

        dl {
                display: flex;
                flex-flow: row wrap;
                gap:0.5em;
        }
        dt {
                flex-basis: 30%;
        }

        dd {
                flex-basis: 65%;
                flex-grow: 1;   
        }
}

@media only screen and (min-width:map-get($container-max-widths, "lg")) {

        html {
                scroll-padding-top: 70px;
        }

        div.breadcrumb {
                padding-left: 1em;
        }

        div.container-3col {
                display: grid;
                grid-template-columns: 20% auto 20%;
                gap: 2em;
        }


        div.container-2col {
                display: grid;
                grid-template-columns: 20% auto;
                gap: 2em;
        }

        aside
        {
                font-size:0.8em;
        }

        aside.sticky {
                position: sticky;
                top: 100px;
                align-self: start;
                overflow-y: auto;
                scrollbar-width: thin; /* Optional: makes the scrollbar thinner */
                scrollbar-gutter: stable; 
        }

        div.toc-collapse {
                display: block !important;
        }

        div.panel
        {
                display: flex;
                flex-wrap:wrap;
                gap:10px;
                justify-content: center;
        }
        div.panel > a {
                height:200px;
                width:300px;
        }
}


/* Typographic modifications */
/* based on SetStudio suggestions */

:root {
        --size-step-0: clamp(1rem, calc(0.96rem + 0.22vw), 1.13rem);
        --size-step-1: clamp(1.25rem, calc(1.16rem + 0.43vw), 1.5rem);
        --size-step-2: clamp(1.56rem, calc(1.41rem + 0.76vw), 2rem);
        --size-step-3: clamp(1.95rem, calc(1.71rem + 1.24vw), 2.66rem);
        --size-step-4: clamp(2.44rem, calc(2.05rem + 1.93vw), 3.55rem);
}

.flow>*+* {
        -webkit-margin-before: var(--flow-space, 1.2em);
        margin-block-start: var(--flow-space, 1.2em);
}

/* Flow and rythm */
:is(h1, h2, h3, blockquote) {
        --flow-space: 1.5em;
}

:is(h1, h2, h3)+* {
        --flow-space: 0.5em;
}

/* Line lengths */
article, div.article-header {
        max-width: 65ch;
        margin-inline: auto;
}



blockquote {
        max-width: 50ch;
}

h1 {
        max-width: 20ch;
        margin-bottom: 0.5em;
}

h1.centred
{
        text-align:center;
        max-width:none;
}

h1.full-width
{
        max-width:none;
}

h2,
h3 {
        max-width: 28ch;
}

body {
        font-size: var(--size-step-0);
        line-height: 1.7;
        font-family: "Helvetica Neue", "Segoe UI", Roboto, Arial, sans-serif;
}

a {
        color: currentColor;
        text-decoration: underline;
        text-underline-offset: 0.15em;
        -webkit-text-decoration-color: $linkUnderline;
        text-decoration-color: $linkUnderline;
        font-weight:600;
}

a.nav-link:hover {
        background-color: var(--bs-success);
}

h1,
h2,
h3 {
        font-weight: 800;
        line-height: 1.1;
        text-wrap: balance;
}

h1 {
        font-size: var(--size-step-4);
}

h2 {
        font-size: var(--size-step-3);
}

h3 {
        font-size: var(--size-step-2);
}

ul,
ol {
        -webkit-padding-start: 1em;
        padding-inline-start: 1em;
}

blockquote {
        -webkit-padding-start: 1em;
        padding-inline-start: 1em;
        -webkit-border-start: 0.3em solid;
        border-inline-start: 0.3em solid;
        font-style: italic;
        font-size: var(--size-step-1);
}

code
{
        display: inline-block;
        white-space: break-spaces;
        background-color: $light;
        padding:0.5em;
}

a.skip-link 
{
        position: absolute;
        display: inline-block;
        padding: .375rem .75rem;
        line-height: 1;
        font-size: 1.25rem;
        background-color: rebeccapurple;
        color: white;
}

a.skip-link:not(:focus) 
{
        height: 1px;
        width: 1px;
        overflow: hidden;
        white-space: nowrap;
        clip: rect(0 0 0 0);
        clip-path: inset(50%);
}

/* blocks */
.note {
        padding: 1.25rem;
        margin-top: 1.25rem;
        margin-bottom: 1.25rem;
        color: var(--bd-callout-color, inherit);
        background-color: var(--bs-primary-bg-subtle);
        border-left: 0.25rem solid var(--bs-primary-border-subtle);
}




lite-youtube {
        background-color: #000;
        position: relative;
        display: block;
        contain: content;
        background-position: center center;
        background-size: cover;
        cursor: pointer;
        max-width: 720px;
    }
    
    /* gradient */
    lite-youtube::before {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==);
        background-position: top;
        background-repeat: repeat-x;
        height: 60px;
        padding-bottom: 50px;
        width: 100%;
        transition: all 0.2s cubic-bezier(0, 0, 0.2, 1);
    }
    
    /* responsive iframe with a 16:9 aspect ratio
        thanks https://css-tricks.com/responsive-iframes/
    */
    lite-youtube::after {
        content: "";
        display: block;
        padding-bottom: calc(100% / (16 / 9));
    }
    lite-youtube > iframe {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        border: 0;
    }
    
    /* play button */
    lite-youtube > .lty-playbtn {
        display: block;
        /* Make the button element cover the whole area for a large hover/click target… */
        width: 100%;
        height: 100%;
        /* …but visually it's still the same size */
        background: no-repeat center/68px 48px;
        /* YT's actual play button svg */
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');
        position: absolute;
        cursor: pointer;
        z-index: 1;
        filter: grayscale(100%);
        transition: filter .1s cubic-bezier(0, 0, 0.2, 1);
        border: 0;
    }
    
    lite-youtube:hover > .lty-playbtn,
    lite-youtube .lty-playbtn:focus {
        filter: none;
    }
    
    /* Post-click styles */
    lite-youtube.lyt-activated {
        cursor: unset;
    }
    lite-youtube.lyt-activated::before,
    lite-youtube.lyt-activated > .lty-playbtn {
        opacity: 0;
        pointer-events: none;
    }
    
    .lyt-visually-hidden {
        clip: rect(0 0 0 0);
        clip-path: inset(50%);
        height: 1px;
        overflow: hidden;
        position: absolute;
        white-space: nowrap;
        width: 1px;
      }
/* purgecss end ignore */